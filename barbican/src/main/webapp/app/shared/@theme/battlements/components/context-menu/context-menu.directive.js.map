{"version":3,"file":"context-menu.directive.js","sourceRoot":"","sources":["../../../../../.ng_build/theme/components/context-menu/context-menu.directive.ts"],"names":[],"mappings":";;;;;AAMA,OAAO,EACL,wBAAwB,EAAE,SAAS,EAAE,UAAU,EAAE,YAAY,EAAE,MAAM,EAAE,KAAK,EACpE,WAAW,GACpB,MAAM,eAAe,CAAC;AACvB,OAAO,EAAE,kBAAkB,EAAE,MAAM,8BAA8B,CAAC;AAElE,OAAO,EAAE,cAAc,EAAE,MAAM,8BAA8B,CAAC;AAC9D,OAAO,EAAE,mBAAmB,EAAE,kBAAkB,EAAE,MAAM,0BAA0B,CAAC;AACnF,OAAO,EAAE,sBAAsB,EAAE,MAAM,0BAA0B,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAmEhE,gCAAY,OAAmB,EACnB,YAA4B,EAC5B,wBAAkD,EAC7B,UAAU;;;;QAIzC,IAAI,CAAC,OAAO,GAAG,IAAI,kBAAkB,CAAC,OAAO,EAAE,YAAY,EAAE,wBAAwB,EAAE,UAAU,CAAC,CAAC;QACnG,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,sBAAsB,CAAC;QAC9C,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,kBAAkB,CAAC,MAAM,CAAC;KACpD;0BApCG,yCAAK;;;;kBAAC,KAAmB;YAC3B,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC1B,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,EAAE,KAAK,OAAA,EAAE,CAAC;;;;;IAClC,CAAC;0BAOE,6CAAS;;;;;kBAAC,SAA6B;YACzC,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,SAAS,CAAC;;;;;IACpC,CAAC;0BAQE,8CAAU;;;;;;kBAAC,UAA+B;YAC5C,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,UAAU,CAAC;;;;;IAiBvC,yCAAQ,GAAR;QACE,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;KACzB;IAED,4CAAW,GAAX;QACE,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;KAC5B;IAED;;SAEK;;;;IACL,qCAAI;;;IAAJ;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;KACrB;IAED;;SAEK;;;;IACL,qCAAI;;;IAAJ;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;KACrB;IAED;;SAEK;;;;IACL,uCAAM;;;IAAN;QACE,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;KACvB;IAGD,yCAAQ;QACN,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;;IAG1B;;;SAGK;;;;;IACG,8CAAa;;;;IAArB,UAAsB,KAAmB;QACvC,EAAE,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;YAC5B,MAAM,KAAK,CAAC,6CAA2C,KAAO,CAAC,CAAA;SAChE;KACF;;gBAvFF,SAAS,SAAC,EAAE,QAAQ,EAAE,iBAAiB,EAAE;;;;gBAzCH,UAAU;gBAKxC,cAAc;gBALrB,wBAAwB;gDA6EX,MAAM,SAAC,WAAW;;;0BA9B9B,KAAK,SAAC,eAAe;8BAUrB,KAAK,SAAC,wBAAwB;+BAU9B,KAAK,SAAC,yBAAyB;6BAgD/B,YAAY,SAAC,eAAe,EAAE,CAAC,QAAQ,CAAC;;iCA1H3C;;SAiDa,sBAAsB","sourcesContent":["/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nimport {\n  ComponentFactoryResolver, Directive, ElementRef, HostListener, Inject, Input, OnDestroy,\n  OnInit, PLATFORM_ID,\n} from '@angular/core';\nimport { NbPopoverDirective } from '../popover/popover.directive';\nimport { NbMenuItem } from '../menu/menu.service';\nimport { NbThemeService } from '../../services/theme.service';\nimport { NbPopoverAdjustment, NbPopoverPlacement } from '../popover/helpers/model';\nimport { NbContextMenuComponent } from './context-menu.component';\n\n/**\n * Full featured context menu directive.\n *\n * ![image](assets/images/components/context-menu.gif)\n *\n * @example Juts pass basic menu items:\n *\n * ```\n * <button [nbContextMenu]=\"items\"></button>\n * ...\n * items = [{ title: 'Profile' }, { title: 'Log out' }];\n * ```\n *\n * @example Context menu has different placements, such as: top, bottom, left and right\n * which can be used as following:\n *\n * ```\n * <button [nbContextMenu]=\"items\" nbContextMenuPlacement=\"right\"></button>\n * ...\n * items = [{ title: 'Profile' }, { title: 'Log out' }];\n * ```\n *\n * @example By default context menu will try to adjust itself to maximally fit viewport\n * and provide the best user experience. It will try to change placement of the context menu.\n * If you wanna disable this behaviour just set it falsy value.\n *\n * ```\n * <button [nbContextMenu]=\"items\" nbContextMenuAdjustment=\"counterclockwise\"></button>\n * ...\n * items = [{ title: 'Profile' }, { title: 'Log out' }];\n * ```\n * */\n@Directive({ selector: '[nbContextMenu]' })\nexport class NbContextMenuDirective implements OnInit, OnDestroy {\n\n  /**\n   * Basic menu items, will be passed to the internal NbMenuComponent.\n   * */\n  @Input('nbContextMenu')\n  set items(items: NbMenuItem[]) {\n    this.validateItems(items);\n    this.popover.context = { items };\n  };\n\n  /**\n   * Position will be calculated relatively host element based on the placement.\n   * Can be top, right, bottom and left.\n   * */\n  @Input('nbContextMenuPlacement')\n  set placement(placement: NbPopoverPlacement) {\n    this.popover.placement = placement;\n  };\n\n  /**\n   * Container placement will be changes automatically based on this strategy if container can't fit view port.\n   * Set this property to any falsy value if you want to disable automatically adjustment.\n   * Available values: clockwise, counterclockwise.\n   * */\n  @Input('nbContextMenuAdjustment')\n  set adjustment(adjustment: NbPopoverAdjustment) {\n    this.popover.adjustment = adjustment;\n  }\n\n  protected popover: NbPopoverDirective;\n\n  constructor(hostRef: ElementRef,\n              themeService: NbThemeService,\n              componentFactoryResolver: ComponentFactoryResolver,\n              @Inject(PLATFORM_ID) platformId) {\n    /**\n     * Initialize popover with all the important inputs.\n     * */\n    this.popover = new NbPopoverDirective(hostRef, themeService, componentFactoryResolver, platformId);\n    this.popover.content = NbContextMenuComponent;\n    this.popover.placement = NbPopoverPlacement.BOTTOM;\n  }\n\n  ngOnInit() {\n    this.popover.ngOnInit();\n  }\n\n  ngOnDestroy() {\n    this.popover.ngOnDestroy();\n  }\n\n  /**\n   * Show context menu.\n   * */\n  show() {\n    this.popover.show();\n  }\n\n  /**\n   * Hide context menu.\n   * */\n  hide() {\n    this.popover.hide();\n  }\n\n  /**\n   * Toggle context menu state.\n   * */\n  toggle() {\n    this.popover.toggle();\n  }\n\n  @HostListener('window:resize', ['$event'])\n  onResize() {\n    this.popover.onResize();\n  }\n\n  /*\n   * NbMenuComponent will crash if don't pass menu items to it.\n   * So, we just validating them and throw custom obvious error.\n   * */\n  private validateItems(items: NbMenuItem[]) {\n    if (!items || !items.length) {\n      throw Error(`List of menu items expected, but given: ${items}`)\n    }\n  }\n}\n"]}